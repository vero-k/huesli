{% extends 'base.html' %}
{{ session['showform'] == 'dont' }}
{% block header %}
  <h1>{% block title %}HOME{% endblock %}</h1>
{% endblock %}

{% block navi %} 
    
{% endblock %}  

{% block table %}
    <div class="container">
    <div class="row">
        <table class="table table-hover" data-toggle="table" id="table">
            <thead>
        
              <tr>
                <th scope="col">ID</th>
                <th scope="col">LAGERPLATZ</th>
                <th scope="col" style="white-space: nowrap">PRODUKT NAME</th>
                <th scope="col">KATEGORIE</th>
                <th scope="col">PREIS</th>
                <th scope="col">DESIGNER</th>
                <th scope="col">LABEL</th>
                <th scope="col">AUSZIEHBAR</th>
                <th scope="col">KLAPPBAR</th>
                <th scope="col">LINK</th>
              </tr>
            </thead>
            <tbody>
                
                {% for row in daslager.items %}
                    <tr class="clickable-row">
                        <th scope="row">{{ row.id }}</th>
                        <td>{{ row.lagerplatz if row.lagerplatz else ""}}</td>
                        <td>{{ row.produktname if row.produktname else ""}}</td>
                        <td>{{ row.kategorie if row.kategorie else ""}}</td>
                        <td>{{ row.preis if row.preis else ""}}</td>
                        <td>{{ row.designer if row.designer else ""}}</td>
                        <td>{{ row.label if row.label else ""}}</td>
                        <td>{{ row.ausziehbar if row.ausziehbar else ""}}</td>
                        <td>{{ row.klappbar if row.klappbar else ""}}</td>
                        <td> {{ viewbttn("View", "/item?currentid=" + row.id|string)}} </td>
                    </tr>
                {% endfor %}

                
             
            </tbody>


          </table>



          <nav class="d-flex justify-content-center">
            <ul class="pagination">

              <li class="page-item">
                <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=1) }}">{{ '<<' }}</a>
              </li>
              {% if currentpage == 1 %}
              <li class="page-item">
                <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=1) }}">{{ '<' }}</a>
              </li>
              {% else %}
              <li class="page-item">
                <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=currentpage-1) }}">{{ '<' }}</a>
              </li>
              {% endif %}

              {% if totalpages < 5%}

                {% for p in range(1, totalpages + 1) %}
                  {%if p == currentpage %}
                    <li class="page-item active">
                      <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=p) }}">{{ p }}</a>
                    </li>
                  {% else %}
                    <li class="page-item">
                      <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=p) }}">{{ p }}</a>
                    </li>
                  {% endif %}
                {% endfor %}
              
              {% else %}
                
                {% if currentpage < 3 %}
                  {% for p in range(1, 6) %}
                    {%if p == currentpage %}
                        <li class="page-item active">
                          <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=p) }}">{{ p }}</a>
                        </li>
                      {% else %}
                      <li class="page-item">
                        <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=p) }}">{{ p }}</a>
                      </li>
                    {% endif %}
                  {% endfor %}

                {% elif currentpage > totalpages - 2 %}
                  {% for p in range(totalpages - 4, totalpages + 1) %}
                    {%if p == currentpage %}
                      <li class="page-item active">
                        <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=p) }}">{{ p }}</a>
                      </li>
                    {% else %}
                      <li class="page-item">
                        <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=p) }}">{{ p }}</a>
                      </li>
                    {% endif %}
                  {% endfor %}
                {% else %}

                  {% for p in range(currentpage - 2, currentpage + 3) %}
                  {%if p == currentpage %}
                    <li class="page-item active">
                      <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=p) }}">{{ p }}</a>
                    </li>
                  {% else %}
                  <li class="page-item">
                    <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=p) }}">{{ p }}</a>
                  </li>
                  {% endif %}
                  {% endfor %}

                  
                {% endif %}
              {% endif %}


              {% if currentpage == totalpages %}
              <li class="page-item">
                <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=totalpages) }}">{{ '>' }}</a>
              </li>
              {% else %}
              <li class="page-item">
                <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=currentpage+1) }}">{{ '>' }}</a>
              </li>
              {% endif %}

          <li class="page-item">
            <a class="btn btn-outline-info mb-4 page-link" href="{{ url_for(thisurl, page=totalpages) }}">{{ '>>' }}</a>
          </li>


      
          </ul>
        </nav>


        </div>
    </div>
    <div class="row ">
      
    </div>
</div>
{% endblock %}